{
  "comments": [
    {
      "key": {
        "uuid": "fabf19d9_3ddf623b",
        "filename": "components_config/10/manila/component.yml",
        "patchSetId": 26
      },
      "lineNbr": 56,
      "author": {
        "id": 1008329
      },
      "writtenOn": "2017-02-14T17:52:55Z",
      "side": 1,
      "message": "Please do NOT hardcode the home directory path! This playbook may run under different username and the code should work.: use $HOME instead.",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_40f589ea",
        "filename": "components_config/10/manila/component.yml",
        "patchSetId": 26
      },
      "lineNbr": 56,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-15T07:17:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fabf19d9_3ddf623b",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_10715544",
        "filename": "components_config/common/manila.yml",
        "patchSetId": 26
      },
      "lineNbr": 4,
      "author": {
        "id": 1004788
      },
      "writtenOn": "2017-02-06T11:52:02Z",
      "side": 1,
      "message": "space",
      "range": {
        "startLine": 4,
        "startChar": 45,
        "endLine": 4,
        "endChar": 46
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_b096293c",
        "filename": "roles/tempest/run/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 5,
      "author": {
        "id": 1004788
      },
      "writtenOn": "2017-02-06T11:52:02Z",
      "side": 1,
      "message": "git.yml?",
      "range": {
        "startLine": 5,
        "startChar": 2,
        "endLine": 5,
        "endChar": 37
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_1dc81ea5",
        "filename": "roles/tempest/run/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 5,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-14T17:26:07Z",
      "side": 1,
      "message": "no. tempest_install_type var gets \u0027git\u0027 or \u0027rpm\u0027 as values.",
      "parentUuid": "fabf19d9_b096293c",
      "range": {
        "startLine": 5,
        "startChar": 2,
        "endLine": 5,
        "endChar": 37
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_d0951d33",
        "filename": "roles/tempest/run/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 15,
      "author": {
        "id": 1004788
      },
      "writtenOn": "2017-02-06T11:52:02Z",
      "side": 1,
      "message": "to have concurrent runs?",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 15,
        "endChar": 51
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_ddbd0603",
        "filename": "roles/tempest/run/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 15,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-14T17:26:07Z",
      "side": 1,
      "message": "I know that. But why 4 was hard coded here?\nIf omitted at all then concurrency automatically defaults to the number of cpus.",
      "parentUuid": "fabf19d9_d0951d33",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 15,
        "endChar": 51
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_5d257659",
        "filename": "roles/tempest/run/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 15,
      "author": {
        "id": 1008329
      },
      "writtenOn": "2017-02-14T17:50:43Z",
      "side": 1,
      "message": "I asked the same thing myself but didn\u0027t touch it while doing sahara. If the default behaviour is smart (enabled concurrency and scaled based on detected cores), it would be a good idea to remove old params.",
      "parentUuid": "fabf19d9_ddbd0603",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_c08ab963",
        "filename": "roles/tempest/run/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 15,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-15T07:17:27Z",
      "side": 1,
      "message": "+1 Since tempest_concurrency var is not used, I\u0027m removing this hardcoded value. Unless Arie will tell us that he has plans to use tempest_concurrency variable.",
      "parentUuid": "fabf19d9_5d257659",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_30745934",
        "filename": "roles/tempest/setup/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 41,
      "author": {
        "id": 1004788
      },
      "writtenOn": "2017-02-06T11:52:02Z",
      "side": 1,
      "message": "can we put this task in rpm.yml?",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 41,
        "endChar": 37
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_f005c179",
        "filename": "roles/tempest/setup/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 41,
      "author": {
        "id": 1008329
      },
      "writtenOn": "2017-02-06T11:59:39Z",
      "side": 1,
      "message": "While working on sahara I discovered that configuring tempest-rpm would work only if task runs as root (also if tempest runs as root), something I didn\u0027t want. Instead I copied tempest config folder to current user folder (chowned) and did the configuration there. This allowed me to run tempest using a normal user instead of root.",
      "parentUuid": "fabf19d9_30745934",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_3d43e214",
        "filename": "roles/tempest/setup/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 41,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-14T17:26:07Z",
      "side": 1,
      "message": "Arie,\nputting \u0027Configure tempest - git\u0027 to git.yml\nand \u0027Configure tempest - rpm\u0027 to rpm.yml\n\nSorin,\ntempest dir is created under /home/stack. So, I\u0027m not sure I understand the context.",
      "parentUuid": "fabf19d9_f005c179",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_fd1e8a0a",
        "filename": "roles/tempest/setup/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 41,
      "author": {
        "id": 1008329
      },
      "writtenOn": "2017-02-14T17:50:43Z",
      "side": 1,
      "message": "David, not sure what you mean here because I didn\u0027t make previous comments on this review. Still, I do remember me making some changes in that area on my pending sahara tempest work:\n\nI remarked that previous code was hardcoded to use /home/stack user which is clearly wrong because this user may not exist. We are running ansible with the default user: cloud-user and that\u0027s where I install tempest.\n\nWe need to compare the tempest role changes with the ones from https://review.gerrithub.io/c/307001/ in order to avoid making divergent changes.",
      "parentUuid": "fabf19d9_3d43e214",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_80ef211d",
        "filename": "roles/tempest/setup/tasks/main.yml",
        "patchSetId": 26
      },
      "lineNbr": 41,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-15T07:17:27Z",
      "side": 1,
      "message": "??. The path was always a relative one here.",
      "parentUuid": "fabf19d9_fd1e8a0a",
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_f0a261ad",
        "filename": "roles/tempest/setup/tasks/rpm.yml",
        "patchSetId": 26
      },
      "lineNbr": 17,
      "author": {
        "id": 1004788
      },
      "writtenOn": "2017-02-06T11:52:02Z",
      "side": 1,
      "message": "why we need all these packages? they are not pulled by openstack-tempest?",
      "range": {
        "startLine": 6,
        "startChar": 5,
        "endLine": 17,
        "endChar": 28
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_1d76de6f",
        "filename": "roles/tempest/setup/tasks/rpm.yml",
        "patchSetId": 26
      },
      "lineNbr": 17,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-14T17:26:07Z",
      "side": 1,
      "message": "No. Unfortunately they are are not. We need filters to \nuse what we have decided on (aka using ostester for branches \u003e\u003d then 7) and then we need filters. We need tempest and tempest-all since they contain tempest and plugins.",
      "parentUuid": "fabf19d9_f0a261ad",
      "range": {
        "startLine": 6,
        "startChar": 5,
        "endLine": 17,
        "endChar": 28
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_90b685f7",
        "filename": "roles/tempest/setup/tasks/rpm.yml",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1004788
      },
      "writtenOn": "2017-02-06T11:52:02Z",
      "side": 1,
      "message": "space",
      "range": {
        "startLine": 23,
        "startChar": 78,
        "endLine": 23,
        "endChar": 79
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_b0a8698d",
        "filename": "roles/tempest/setup/tasks/rpm.yml",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1004788
      },
      "writtenOn": "2017-02-06T11:52:02Z",
      "side": 1,
      "message": "too specific",
      "range": {
        "startLine": 23,
        "startChar": 38,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_7d0b9ad6",
        "filename": "roles/tempest/setup/tasks/rpm.yml",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1006664
      },
      "writtenOn": "2017-02-14T17:26:07Z",
      "side": 1,
      "message": "Good point. I\u0027ll turn it more general.",
      "parentUuid": "fabf19d9_b0a8698d",
      "range": {
        "startLine": 23,
        "startChar": 38,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fabf19d9_bd1492e8",
        "filename": "roles/tempest/setup/tasks/rpm.yml",
        "patchSetId": 26
      },
      "lineNbr": 23,
      "author": {
        "id": 1008329
      },
      "writtenOn": "2017-02-14T17:50:43Z",
      "side": 1,
      "message": "This reminds me about a similar mistake in my shara one where I have a hardcoded path too.. I have no idea how we should detect the correct path but we need to do it and assure that it works with all supported versions.\nSee https://review.gerrithub.io/c/307001/35/roles/tempest/setup/tasks/rpm.yml#14",
      "range": {
        "startLine": 23,
        "startChar": 8,
        "endLine": 23,
        "endChar": 44
      },
      "revId": "2b316536c58792d02a1b1b3ce35f91b57e9626a5",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735",
      "unresolved": false
    }
  ]
}